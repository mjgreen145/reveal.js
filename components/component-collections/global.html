<html><head><script>function MakePromise(asap){function Promise(fn){if(typeof this!=="object"||typeof fn!=="function")throw new TypeError;this._state=null;this._value=null;this._deferreds=[];doResolve(fn,resolve.bind(this),reject.bind(this))}function handle(deferred){var me=this;if(this._state===null){this._deferreds.push(deferred);return}asap(function(){var cb=me._state?deferred.onFulfilled:deferred.onRejected;if(typeof cb!=="function"){(me._state?deferred.resolve:deferred.reject)(me._value);return}var ret;try{ret=cb(me._value)}catch(e){deferred.reject(e);return}deferred.resolve(ret)})}function resolve(newValue){try{if(newValue===this)throw new TypeError;if(newValue&&(typeof newValue==="object"||typeof newValue==="function")){var then=newValue.then;if(typeof then==="function"){doResolve(then.bind(newValue),resolve.bind(this),reject.bind(this));return}}this._state=true;this._value=newValue;finale.call(this)}catch(e){reject.call(this,e)}}function reject(newValue){this._state=false;this._value=newValue;finale.call(this)}function finale(){for(var i=0,len=this._deferreds.length;i<len;i++){handle.call(this,this._deferreds[i])}this._deferreds=null}function doResolve(fn,onFulfilled,onRejected){var done=false;try{fn(function(value){if(done)return;done=true;onFulfilled(value)},function(reason){if(done)return;done=true;onRejected(reason)})}catch(ex){if(done)return;done=true;onRejected(ex)}}Promise.prototype["catch"]=function(onRejected){return this.then(null,onRejected)};Promise.prototype.then=function(onFulfilled,onRejected){var me=this;return new Promise(function(resolve,reject){handle.call(me,{onFulfilled:onFulfilled,onRejected:onRejected,resolve:resolve,reject:reject})})};Promise.resolve=function(value){if(value&&typeof value==="object"&&value.constructor===Promise){return value}return new Promise(function(resolve){resolve(value)})};Promise.reject=function(value){return new Promise(function(resolve,reject){reject(value)})};return Promise}if(typeof module!=="undefined"){module.exports=MakePromise}</script><script>if(!window.Promise){window.Promise=MakePromise(Polymer.Base.async)}</script><script>"use strict";Polymer({is:"iron-request",properties:{xhr:{type:Object,notify:true,readOnly:true,value:function(){return new XMLHttpRequest}},response:{type:Object,notify:true,readOnly:true,value:function(){return null}},status:{type:Number,notify:true,readOnly:true,value:0},statusText:{type:String,notify:true,readOnly:true,value:""},completes:{type:Object,readOnly:true,notify:true,value:function(){return new Promise(function(resolve,reject){this.resolveCompletes=resolve;this.rejectCompletes=reject}.bind(this))}},progress:{type:Object,notify:true,readOnly:true,value:function(){return{}}},aborted:{type:Boolean,notify:true,readOnly:true,value:false}},get succeeded(){var status=this.xhr.status||0;return status===0||status>=200&&status<300},send:function(options){var xhr=this.xhr;if(xhr.readyState>0){return null}xhr.addEventListener("readystatechange",function(){if(xhr.readyState===4&&!this.aborted){this._updateStatus();if(!this.succeeded){this.rejectCompletes(new Error("The request failed with status code: "+this.xhr.status));return}this._setResponse(this.parseResponse());this.resolveCompletes(this)}}.bind(this));xhr.addEventListener("progress",function(progress){this._setProgress({lengthComputable:progress.lengthComputable,loaded:progress.loaded,total:progress.total})}.bind(this));xhr.addEventListener("error",function(error){this._updateStatus();this.rejectCompletes(error)}.bind(this));xhr.addEventListener("abort",function(){this._updateStatus();this.rejectCompletes(new Error("Request aborted."))}.bind(this));xhr.open(options.method||"GET",options.url,options.async!==false);if(options.headers){Object.keys(options.headers).forEach(function(requestHeader){xhr.setRequestHeader(requestHeader,options.headers[requestHeader])},this)}var contentType;if(options.headers){contentType=options.headers["Content-Type"]}var body=this._encodeBodyObject(options.body,contentType);xhr.responseType=xhr._responseType=options.handleAs||"text";xhr.withCredentials=!!options.withCredentials;xhr.send(body);return this.completes},parseResponse:function(){var xhr=this.xhr;var responseType=this.xhr.responseType||this.xhr._responseType;var preferResponseText=!this.xhr.responseType;try{switch(responseType){case"json":if(preferResponseText||xhr.response===undefined){try{xhr.responseText}catch(e){return xhr.response}if(xhr.responseText){return JSON.parse(xhr.responseText)}}return xhr.response;case"xml":return xhr.responseXML;case"blob":case"document":case"arraybuffer":return xhr.response;case"text":default:return xhr.responseText}}catch(e){this.rejectCompletes(new Error("Could not parse response. "+e.message))}},abort:function(){this._setAborted(true);this.xhr.abort()},_encodeBodyObject:function(body,contentType){if(typeof body=="string"){return body}switch(contentType){case"application/json":return JSON.stringify(body);case"application/x-www-form-urlencoded":return this._wwwFormUrlEncode(body)}return body},_wwwFormUrlEncode:function(object){if(!object){return""}var pieces=[];Object.keys(object).forEach(function(key){pieces.push(this._wwwFormUrlEncodePiece(key)+"="+this._wwwFormUrlEncodePiece(object[key]))},this);return pieces.join("&")},_wwwFormUrlEncodePiece:function(str){return encodeURIComponent(str.toString().replace(/\r?\n/g,"\r\n")).replace(/%20/g,"+")},_updateStatus:function(){this._setStatus(this.xhr.status);this._setStatusText(this.xhr.statusText===undefined?"":this.xhr.statusText)}});</script><script>"use strict";Polymer({is:"iron-ajax",properties:{url:{type:String,value:""},params:{type:Object,value:function(){return{}}},method:{type:String,value:"GET"},headers:{type:Object,value:function(){return{}}},contentType:{type:String,value:null},body:{type:Object,value:null},sync:{type:Boolean,value:false},handleAs:{type:String,value:"json"},withCredentials:{type:Boolean,value:false},auto:{type:Boolean,value:false},verbose:{type:Boolean,value:false},loading:{type:Boolean,notify:true,readOnly:true},lastRequest:{type:Object,notify:true,readOnly:true},lastResponse:{type:Object,notify:true,readOnly:true},lastError:{type:Object,notify:true,readOnly:true},activeRequests:{type:Array,notify:true,readOnly:true,value:function(){return[]}},debounceDuration:{type:Number,value:0,notify:true},_boundHandleResponse:{type:Function,value:function(){return this._handleResponse.bind(this)}}},observers:["_requestOptionsChanged(url, method, params, headers,"+"contentType, body, sync, handleAs, withCredentials, auto)"],get queryString(){var queryParts=[];var param;var value;for(param in this.params){value=this.params[param];param=window.encodeURIComponent(param);if(value!==null){param+="="+window.encodeURIComponent(value)}queryParts.push(param)}return queryParts.join("&")},get requestUrl(){var queryString=this.queryString;if(queryString){return this.url+"?"+queryString}return this.url},get requestHeaders(){var headers={};var contentType=this.contentType;if(contentType==null&&typeof this.body==="string"){contentType="application/x-www-form-urlencoded"}if(contentType){headers["Content-Type"]=contentType}var header;if(this.headers instanceof Object){for(header in this.headers){headers[header]=this.headers[header].toString()}}return headers},toRequestOptions:function(){return{url:this.requestUrl,method:this.method,headers:this.requestHeaders,body:this.body,async:!this.sync,handleAs:this.handleAs,withCredentials:this.withCredentials}},generateRequest:function(){var request=document.createElement("iron-request");var requestOptions=this.toRequestOptions();this.activeRequests.push(request);request.completes.then(this._boundHandleResponse).catch(this._handleError.bind(this,request)).then(this._discardRequest.bind(this,request));request.send(requestOptions);this._setLastRequest(request);this._setLoading(true);this.fire("request",{request:request,options:requestOptions});return request},_handleResponse:function(request){this._setLastResponse(request.response);this.fire("response",request)},_handleError:function(request,error){if(this.verbose){console.error(error)}this._setLastError({request:request,error:error});this.fire("error",{request:request,error:error})},_discardRequest:function(request){var requestIndex=this.activeRequests.indexOf(request);if(requestIndex>-1){this.activeRequests.splice(requestIndex,1)}if(this.activeRequests.length===0){this._setLoading(false)}},_requestOptionsChanged:function(){this.debounce("generate-request",function(){if(!this.url&&this.url!==""){return}if(this.auto){this.generateRequest()}},this.debounceDuration)}});</script><style>	.form-element { display: block; box-sizing: border-box; border: 1px solid #ccc; position: relative; border-radius: 3px;	}	.form-element.invalid { border: 1px solid #cc0000; z-index: 1;	}	.form-element .tooltip { position: absolute; top: -50px; left: 0; right: 0; margin: 0 auto; opacity: 0; text-align: center; transition: opacity 0.1s ease-in, transform 0.1s ease-out;	}	.form-element .tooltip div { background-color: #000; color: #FFF; padding: 10px 15px; border-radius: 3px; display: inline-block; font-size: 13px;	}	.form-element.tooltip-active .tooltip { opacity: 0.9; transform: translate(0, -3px);	}	.form-element .tooltip div:after { top: 100%; left: 50%; border: solid transparent; content: " "; height: 0; width: 0; position: absolute; pointer-events: none; border-color: rgba(0, 0, 0, 0); border-top-color: #000000; border-width: 5px; margin-left: -5px; z-index: 1;	}	.grouped-form .form-element { border-radius: 0; margin-top: -1px;	}	.grouped-form .first-form-element { border-radius: 3px 3px 0 0; margin-top: 0;	}	.grouped-form .last-form-element { border-radius: 0 0 3px 3px; border-bottom-width: 1px;	}</style><script>Polymer.formBehaviour={is:"form-behaviour",valid:function(element){element.classList.add("valid");element.classList.remove("invalid")},invalid:function(element){element.classList.add("invalid");element.classList.remove("valid")},isValid:function(element){return element.classList.contains("valid")},activateTooltip:function(element){element.classList.add("tooltip-active");element.addEventListener("click",function handler(){element.classList.remove("tooltip-active");element.removeEventListener("click",handler)})}};</script><style>	.form-element label { position: absolute; top: 22px; left: 20px; font-family: GillSans; color: #bbb; z-index: 1;	}	.form-element.invalid label { color: #cc0000;	}	.form-element input { position: relative; display: block; width: calc(100% - 30px); font-size: 14px; border: none; background: transparent; font-family: GillSans; z-index: 1; padding: 22px 10px 16px 18px;	}	.form-element input:focus { outline: 0;	}	.form-element input::-webkit-input-placeholder { color: transparent; }	.form-element input:-moz-placeholder { color: transparent; }	.form-element input::-moz-placeholder { color: transparent; }	.form-element input:-ms-input-placeholder { color: transparent; }	.form-element input::-ms-clear { display: none; } .form-element .float-label { -webkit-transform: translate3d(-2px, -16px, 0) scale(0.7); -moz-transform: translate3d(-2px, -16px, 0) scale(0.7); -ms-transform: translate3d(-2px, -16px, 0) scale(0.7); transform: translate3d(-2px, -16px, 0) scale(0.7); -webkit-transform-origin: left top; -moz-transform-origin: left top; -ms-transform-origin: left top; transform-origin: left top; -webkit-transition: -webkit-transform 0.25s; -moz-transition: -moz-transform 0.25s; -ms-transition: -ms-transform 0.25s; transition: transform 0.25s;	}	.form-element input:focus + label { color: #000;	}	.form-element span { display: block; position: absolute; top: 20px; right: 10px; width: 25px; height: 25px;	}	</style><script>Polymer.inputBehaviour={is:"input-behaviour",valid:function(icon){icon.classList.add("icon-tick_black");icon.classList.remove("icon-cross_red")},invalid:function(icon){icon.classList.add("icon-cross_red");icon.classList.remove("icon-tick_black")},clearIcon:function(icon){icon.classList.remove("icon-tick_black");icon.classList.remove("icon-cross_red")},floatLabel:function(label){label.classList.add("float-label")},noFloatLabel:function(label){label.classList.remove("float-label")},validLabel:function(label,labelTxt){label.innerHTML=labelTxt},invalidLabel:function(label,labelTxt){label.innerHTML=labelTxt}};</script><style>	.form-element select { -webkit-appearance: none; -moz-appearance: none; -ms-appearance: none; appearance: none; border: none; font-family: GillSans; width: 100%; font-size: 15px; position: relative; z-index: 1; background: transparent; cursor: pointer; padding: 11px 10px 11px 18px;	}	.form-element select:focus { outline: 0;	}	.form-element select::-ms-expand { display: none; }	.form-element .icon-arrow_down-active { display: block; position: absolute; top: 9px; right: 10px;	}</style><script>Polymer.selectBehaviour={is:"select-behaviour",valid:function(container){container.classList.remove("invalid")},invalid:function(container){container.classList.add("invalid")}};</script></head><body><div hidden=""><dom-module id="nap-product-price"><style> :host { display: inline; } .product-price { display: inline; } .sale, .discount { color: #F00; } s { padding-right: 5px } .discount { padding-left: 5px; } </style><template><div class="product-price" itemprop="offers" itemscope="" itemtype="http://schema.org/Offer"><template is="dom-if" if="{{!price.original}}"><span class="currency" itemprop="priceCurrency" content$="{{_getCurrencyCode()}}">{{_getCurrencySymbol()}}</span><span class="full-price" itemprop="price" content$="{{_currentPrice(price)}}">{{_currentPrice(price)}}</span></template><template is="dom-if" if="{{price.original}}"><s><span>{{_getCurrencySymbol()}}</span><span class="full-price">{{_originalPrice(price)}}</span></s><span class="currency sale" itemprop="priceCurrency" content$="{{_getCurrencyCode()}}">{{_getCurrencySymbol()}}</span><span class="sale sale-price" itemprop="price" content$="{{_currentPrice(price)}}">{{_currentPrice(price)}}</span><template is="dom-if" if="{{price.discountPercent}}"><span class="discount">{{_discount(price)}}</span></template></template><content select="link"></content><link itemprop="itemCondition" href="https://schema.org/NewCondition"></div></template><script>Polymer({is:"nap-product-price",properties:{price:Object,copy:{type:Object,value:{en:{beforeDiscount:"",off:"OFF"},fr:{beforeDiscount:"-",off:""},de:{beforeDiscount:"-",off:""},zh:{beforeDiscount:"",off:"折扣"}}}},_currentPrice:function(price){return this._formatPrice(price.gross,price.divisor)},_originalPrice:function(price){return this._formatPrice(price.original.gross,price.divisor)},_getCurrencyCode:function(){return NAP.locale.currencyCode},_getCurrencySymbol:function(){return NAP.locale.currencySymbol},_formatPrice:function(amount,divisor){return priceString=Math.ceil(amount/divisor).toString().replace(/\d(?=(\d{3})+$)/g,"$&,")},_discount:function(price){return this.copy[NAP.locale.language].beforeDiscount+price.discountPercent+"% "+this.copy[NAP.locale.language].off}});</script></dom-module><dom-module id="nap-product"><style> :host { display: block; box-sizing: border-box; padding: 0 10px !important; font-family: GillSans; font-size: 14px; margin-bottom: 40px; text-align: left; } img { min-height: 150px; } .image { width: 100%; } .image:active { filter: brightness(90%); -webkit-filter: brightness(90%); -moz-filter: brightness(90%); -o-filter: brightness(90%); -ms-filter: brightness(90%); } .designer { text-transform: uppercase; margin-top: 20px; } .name { overflow: hidden; text-overflow: ellipsis; display: -webkit-box; line-height: 18px; height: 36px; -webkit-line-clamp: 2; -webkit-box-orient: vertical; margin: 10px 0; } .name.hidden{ display:none; } .name:empty{ display: none; } </style><template><a href="{{_productUrl(product.id)}}" data-feature$="{{product.feature}}"><img id="image" class="image" src="{{_imgUrl(product.id)}}" itemprop="image" on-mouseover="_hoverShot" on-mouseout="_indexShot"><meta itemprop="url" content$="{{_canonicalProductUrl(product.id)}}"><meta itemprop="productID" content="{{product.id}}"><div class="designer" itemprop="brand" itemscope="" itemtype="http://schema.org/Brand"><span itemprop="name">{{product.brand.name}}</span></div><div class$="{{_nameInvisible(product.nameInvisible)}}" itemprop="name">{{product.name}}</div><template is="dom-if" if="{{product.price}}"><nap-product-price price$="{{product.price}}"></nap-product-price></template></a><template is="dom-if" if="{{product.sku}}"><nap-add-to-bag-button skus$="{{_getSku(product.sku)}}"></nap-add-to-bag-button></template></template><script>Polymer({is:"nap-product",properties:{product:Object},hostAttributes:{itemtype:"http://schema.org/Product",itemscope:true},_imgUrl:function(pid){return"//cache.net-a-porter.com/images/products/"+pid+"/"+pid+"_in_l.jpg"},_canonicalProductUrl:function(pid){return"/product/"+pid},_nameInvisible:function(nameInvisible){if(nameInvisible){return"name hidden"}else{return"name"}},_productUrl:function(pid){return"/"+NAP.locale.country.toLowerCase()+"/"+NAP.locale.language+"/product/"+pid},_indexShot:function(){if(!document.documentElement.classList.contains("touch")){this.$.image.src=this.$.image.src.replace(/ou_(.*)\.jpg/,"in_$1.jpg")}},_hoverShot:function(){if(!document.documentElement.classList.contains("touch")){this.$.image.src=this.$.image.src.replace(/in_(.*)\.jpg/,"ou_$1.jpg")}},_getSku:function(sku){return[sku]}});</script></dom-module><dom-module id="loading-spinner"><style> :host { display: inline-block; width: 20px; height: 20px; }; svg { width: 100%; height: 100%; -webkit-animation: spin 1s infinite linear; animation: spin 1s infinite linear; } @-webkit-keyframes spin { 0% { -webkit-transform: rotate(0deg); } 100% { -webkit-transform: rotate(360deg); } } @keyframes spin { 0% { -ms-transform: rotate(0deg); transform: rotate(0deg); } 100% { -ms-transform: rotate(360deg); transform: rotate(360deg); } } </style><template><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" width="80px" height="80px" viewBox="0 0 80 80" enable-background="new 0 0 80 80" xml:space="preserve"><path fill="#CCCBCB" d="M74.597 48.391c0 0-1.773 12.504-12.14 20.99 -5.524 4.523-13.426 7.99-24.668 7.99 -10.336 0-31.654-8.795-31.654-38.195 0-10.697 9.891-31.222 31.654-31.222 20.334 0 31.873 15.295 31.873 29.802 -0.023 6.384 1.186 9.259 5.312 9.185 5.148 0 4.831-3.637 4.831-8.51 -0.067-6.994-3.5-19.75-13.859-28.671 -7.516-5.829-15.558-9.954-28.183-9.49 -10.041 0.787-17.959 4.12-25.75 11.62C5.039 18.825 0.764 27.932 0.285 38.557c0 13.333 4.688 21.875 10.454 28.404 6.899 7.387 16.191 12.055 26.899 12.805 11.417 0 19.881-4.01 25.824-9.34C71.278 63.418 74.511 53.836 74.597 48.391z"></path></svg></template><script>Polymer({is:"loading-spinner"});</script></dom-module><dom-module id="widget-show-hide"><style> @keyframes showHideExpand { 0% { max-height: 0; } 100% { max-height: 300px; } } @keyframes showHideCollapse { 0% { max-height: 300px; } 100% { max-height: 0; } } :host { display: block; position: relative; }; ::content .show-hide-title { height: 90px; line-height: 90px; text-align: center; cursor: pointer; text-transform: uppercase; } ::content .show-hide-content { max-height: 0; overflow: hidden; }; :host.transitioning ::content .show-hide-content { -moz-animation-name: showHideCollapse; -webkit-animation-name: showHideCollapse; animation-name: showHideCollapse; -moz-animation-duration: 0.5s; -webkit-animation-duration: 0.5s; animation-duration: 0.5s; -moz-animation-timing-function: ease-out; -webkit-animation-timing-function: ease-out; animation-timing-function: ease-out; }; :host.open ::content .show-hide-content { max-height: 3000px; }; :host.open.transitioning ::content .show-hide-content { -moz-animation-name: showHideExpand; -webkit-animation-name: showHideExpand; animation-name: showHideExpand; -moz-animation-duration: 0.5s; -webkit-animation-duration: 0.5s; animation-duration: 0.5s; -moz-animation-timing-function: ease-in; -webkit-animation-timing-function: ease-in; animation-timing-function: ease-in; } .icon { position: absolute; right: 12px; top: 32px; z-index: -1; } @media (min-width: 951px) { :host.open-lg ::content .show-hide-title { cursor: auto; } :host.open-lg ::content .show-hide-content { max-height: none; }; :host.open-lg .icon { display: none; } } </style><template><div class="icon icon-plus" on-click="_onClick"></div><content></content></template><script>Polymer({is:"widget-show-hide",properties:{open:{type:Boolean,value:false},name:String},ready:function(){if(this.open){this.toggle()}var title=this.querySelector(".show-hide-title");var self=this;if(title){title.addEventListener("click",function(){self._onClick()})}var content=this.querySelector(".show-hide-content");content.addEventListener("animationend",function(){self.classList.remove("transitioning")})},_onClick:function(){var isOpen=this.toggle();if(isOpen){this.fire("open")}else{this.fire("close")}},toggle:function(){var self=this;var icon=this.querySelector(".icon");this.classList.add("transitioning");var isOpen=this.classList.toggle("open");icon.classList.toggle("icon-plus");icon.classList.toggle("icon-minus");return isOpen},getName:function(){return this.name}});</script></dom-module><dom-module id="input-email"><template><template is="dom-if" if="{{tooltip}}"><div class="tooltip"><div>{{tooltip}}</div></div></template><input id="input" name="{{name}}" type="email" placeholder="{{label}}" on-focus="_onFocus" on-blur="_onBlur" value="{{value}}"><label for="input">{{label}}</label><span></span></template><script>Polymer({is:"input-email",properties:{name:String,required:Boolean,linked:String,label:String,error:String,tooltip:String,value:String},ready:function(){this.classList.add("form-element");this.inputEl=this.querySelector("input");this.labelEl=this.querySelector("label");this.iconEl=this.querySelector("span");if(this.value){Polymer.inputBehaviour.floatLabel(this.labelEl)}if(this.linked){var _this=this;this.primaryEmailEl=document.getElementById(this.linked);this.primaryEmailEl.getElementsByTagName("input")[0].addEventListener("change",function(){_this._linkedValidate()})}},listeners:{input:"_onInput"},_onInput:function(e){if(this.required===true){this.validState=this.validate(this.inputEl.value);if(this.validState){Polymer.formBehaviour.valid(this);Polymer.inputBehaviour.valid(this.iconEl);Polymer.inputBehaviour.validLabel(this.labelEl,this.label)}}if(this.linked){if(this.primaryEmailEl.getValue()===this.inputEl.value){this.validState=true;this._setValidState()}}},_onFocus:function(){Polymer.inputBehaviour.floatLabel(this.labelEl);Polymer.inputBehaviour.validLabel(this.labelEl,this.label)},_onBlur:function(){if(this.required===true){if(this.validState){this._setValidState()}else{this._setInvalidState()}}if(this.linked&&this.inputEl.value!==""){this._linkedValidate()}if(this.inputEl.value===""){Polymer.inputBehaviour.noFloatLabel(this.labelEl)}},_setValidState:function(){Polymer.formBehaviour.valid(this);Polymer.inputBehaviour.valid(this.iconEl);Polymer.inputBehaviour.validLabel(this.labelEl,this.label)},_setInvalidState:function(){Polymer.formBehaviour.invalid(this);Polymer.inputBehaviour.invalid(this.iconEl);Polymer.inputBehaviour.invalidLabel(this.labelEl,this.error)},_linkedValidate:function(){if(this.inputEl.Value!==""&&this.primaryEmailEl.getValue()===this.inputEl.value){this.validState=true;this._setValidState()}else{this.validState=false;if(this.inputEl.value!==""){this._setInvalidState()}}},validate:function(value){if(/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i.test(value)){return true}return false},getValue:function(){return this.$.input.value},isValid:function(){return Polymer.formBehaviour.isValid(this)},activateTooltip:function(){return Polymer.formBehaviour.activateTooltip(this)}});</script></dom-module><dom-module id="input-telephone"><template><template is="dom-if" if="{{tooltip}}"><div class="tooltip"><div>{{tooltip}}</div></div></template><input id="input" name="{{name}}" type="tel" placeholder="{{label}}" on-focus="_onFocus" on-blur="_onBlur" value="{{value}}"><label for="input">{{label}}</label><span></span></template><script>Polymer({is:"input-telephone",properties:{name:String,required:Boolean,label:String,error:String,tooltip:String,value:String},ready:function(){this.classList.add("form-element");this.inputEl=this.querySelector("input");this.labelEl=this.querySelector("label");this.iconEl=this.querySelector("span");if(this.value){Polymer.inputBehaviour.floatLabel(this.labelEl)}},listeners:{input:"_onInput"},_onInput:function(e){if(this.required===true){this.validState=this.validate(this.inputEl.value);if(this.validState){Polymer.formBehaviour.valid(this);Polymer.inputBehaviour.valid(this.iconEl);Polymer.inputBehaviour.validLabel(this.labelEl,this.label)}}},_onFocus:function(){Polymer.inputBehaviour.floatLabel(this.labelEl);Polymer.inputBehaviour.validLabel(this.labelEl,this.label)},_onBlur:function(){if(this.required===true){if(this.validState){Polymer.formBehaviour.valid(this);Polymer.inputBehaviour.valid(this.iconEl);Polymer.inputBehaviour.validLabel(this.labelEl,this.label)}else{Polymer.formBehaviour.invalid(this);Polymer.inputBehaviour.invalid(this.iconEl);Polymer.inputBehaviour.invalidLabel(this.labelEl,this.error)}}if(this.inputEl.value===""){Polymer.inputBehaviour.noFloatLabel(this.labelEl)}},validate:function(value){if(/^\+?[\d\s]+$/.test(value)){return true}return false},getValue:function(){return this.$.input.value},isValid:function(){return Polymer.formBehaviour.isValid(this)},activateTooltip:function(){return Polymer.formBehaviour.activateTooltip(this)}});</script></dom-module><dom-module id="input-text"><template><template is="dom-if" if="{{tooltip}}"><div class="tooltip"><div>{{tooltip}}</div></div></template><input id="input" name="{{name}}" type="{{type}}" placeholder="{{label}}" on-focus="_onFocus" on-blur="_onBlur" value="{{value}}"><label for="input">{{label}}</label><span></span></template><script>Polymer({is:"input-text",properties:{name:String,type:String,required:Boolean,label:String,error:String,tooltip:String,value:String},ready:function(){this.classList.add("form-element");this.inputEl=this.querySelector("input");this.labelEl=this.querySelector("label");this.iconEl=this.querySelector("span");if(this.value){Polymer.inputBehaviour.floatLabel(this.labelEl)}},listeners:{input:"_onInput"},_onInput:function(e){this.validState=this.validate(this.inputEl.value);if(this.validState){Polymer.formBehaviour.valid(this);Polymer.inputBehaviour.valid(this.iconEl);Polymer.inputBehaviour.validLabel(this.labelEl,this.label)}else{Polymer.formBehaviour.invalid(this);Polymer.inputBehaviour.clearIcon(this.iconEl)}},_onFocus:function(){Polymer.inputBehaviour.floatLabel(this.labelEl);Polymer.inputBehaviour.validLabel(this.labelEl,this.label)},_onBlur:function(){if(this.required===true){if(this.validState){Polymer.formBehaviour.valid(this);Polymer.inputBehaviour.valid(this.iconEl);Polymer.inputBehaviour.validLabel(this.labelEl,this.label)}else{Polymer.formBehaviour.invalid(this);Polymer.inputBehaviour.invalid(this.iconEl);Polymer.inputBehaviour.invalidLabel(this.labelEl,this.error)}}if(this.inputEl.value===""){Polymer.inputBehaviour.noFloatLabel(this.labelEl)}},validate:function(value){if(value!==""){return true}return false},getValue:function(){return this.$.input.value},isValid:function(){return Polymer.formBehaviour.isValid(this)},activateTooltip:function(){return Polymer.formBehaviour.activateTooltip(this)}});</script></dom-module><dom-module id="select-country"><template><iron-ajax id="getCountries" auto="" url="{{_getUrl()}}" handle-as="json" last-response="{{countryApiResponse}}" last-error="{{countryApiError}}" on-request="_onRequest" on-response="_onResponse" on-error="_onError"></iron-ajax><template is="dom-if" if="{{tooltip}}"><div class="tooltip"><div>{{tooltip}}</div></div></template><select id="{{name}}" name="{{name}}" on-blur="_onChange" on-change="_onChange"><option value="-">{{label}}</option></select><span class="icon-arrow_down-active"></span></template><script>Polymer({is:"select-country",properties:{name:String,required:Boolean,label:String,tooltip:String},_onRequest:function(){NAP.monitoring.registerPerfMark(this.$.getCountries.url)},_onResponse:function(){this._setOptions(this.countryApiResponse);NAP.monitoring.measurePerfMark("Polymer",this.$.getCountries.url,{status:"success"})},_onError:function(){NAP.monitoring.registerPerfMetricAndMonitoring("Polymer","API Failure",this.$.getCountries.url,{status:"error",errorThrown:this.countryApiError.error.message})},ready:function(){this.classList.add("form-element");this.selectEl=this.querySelector("select")},_setOptions:function(countryData){var sortedData=this._sortCountries(countryData);var selectEl=this.getElementsByTagName("select")[0];sortedData.forEach(function(item){var option=document.createElement("option");option.textContent=item.name;option.value=item.iso;selectEl.appendChild(option)})},_getUrl:function(){return"//nap-locale-info.nap-live.ext.net-a-porter.com/countries/1/"+NAP.locale.language+"/countries.json"},_onChange:function(){if(this.required===true){this.validState=this.validate(this.selectEl.value);if(this.validState){Polymer.formBehaviour.valid(this)}else{Polymer.formBehaviour.invalid(this)}}},validate:function(value){if(value!=="-"){return true}return false},_sortCountries:function(countryData){return Object.keys(countryData).map(function(iso){return{iso:iso,name:countryData[iso].name}}).sort(function(c1,c2){return c1.name.localeCompare(c2.name)})},getValue:function(){var select=this.$.select;return select.options[select.selectedIndex].value},isValid:function(){return Polymer.formBehaviour.isValid(this)},activateTooltip:function(){return Polymer.formBehaviour.activateTooltip(this)}});</script></dom-module><dom-module id="select-dropdown"><template><template is="dom-if" if="{{tooltip}}"><div class="tooltip"><div>{{tooltip}}</div></div></template><select id="select" name="{{name}}" on-blur="_onChange" on-change="_onChange"><option value="-">{{label}}</option></select><span class="icon-arrow_down-active"></span></template><script>Polymer({is:"select-dropdown",properties:{name:String,required:Boolean,label:String,options:Array,tooltip:String},ready:function(){this.classList.add("form-element");this.selectEl=this.querySelector("select");this._setOptions()},_setOptions:function(){var selectEl=this.getElementsByTagName("select")[0];this.options.forEach(function(item){var option=document.createElement("option");option.textContent=item.name;option.value=item.value;for(var key in item.data){option.setAttribute("data-"+key,item.data[key])}selectEl.appendChild(option)})},_onChange:function(){this.validState=this.validate()},validate:function(){if(this.selectEl.value!=="-"){Polymer.formBehaviour.valid(this)}else{if(this.required===true){Polymer.formBehaviour.invalid(this)}}},setInvalid:function(){Polymer.formBehaviour.invalid(this)},setValid:function(){Polymer.formBehaviour.valid(this)},getValue:function(){var select=this.$.select;return select.options[select.selectedIndex].value},getData:function(key){var select=this.$.select;return select.options[select.selectedIndex].getAttribute("data-"+key)},isValid:function(){return Polymer.formBehaviour.isValid(this)},activateTooltip:function(){return Polymer.formBehaviour.activateTooltip(this)}});</script></dom-module><dom-module id="textarea-field"><style> label { position: absolute; top: 22px; left: 20px; font-family: GillSans; color: #bbb; z-index: 0; } label.hidden { visibility: hidden; } :host.invalid label { color: #cc0000; } textarea { width: 100%; font-size: 15px; border: none; font-family: GillSans; outline: none; background: transparent; position: relative; z-index: 1; overflow: auto; }	</style><template><template is="dom-if" if="{{tooltip}}"><div class="tooltip"><div>{{tooltip}}</div></div></template><label for="textarea">{{label}}</label><textarea id="textarea" name="{{name}}" on-blur="_onBlur" rows="{{rows}}" value="{{value}}"></textarea></template><script>Polymer({is:"textarea-field",properties:{name:String,label:String,rows:Number,required:Boolean,tooltip:String,value:String},ready:function(){this.classList.add("form-element");this.textAreaEl=this.querySelector("textarea");this.labelEl=this.querySelector("label");if(this.value){Polymer.inputBehaviour.floatLabel(this.labelEl)}},listeners:{input:"_onInput"},_onInput:function(e){if(this.required===true){this.validState=this.validate(this.textAreaEl.value);if(this.validState){Polymer.formBehaviour.valid(this);this.labelEl.classList.add("hidden")}else{Polymer.formBehaviour.invalid(this);this.labelEl.classList.remove("hidden")}}},_onBlur:function(){if(this.required===true){this.validState=this.validate(this.textAreaEl.value);if(this.validState){Polymer.formBehaviour.valid(this)}else{Polymer.formBehaviour.invalid(this)}}},validate:function(value){if(value!==""){return true}return false},getValue:function(){return this.$.textarea.value},isValid:function(){return Polymer.formBehaviour.isValid(this)},activateTooltip:function(){return Polymer.formBehaviour.activateTooltip(this)}});</script></dom-module></div></body></html>