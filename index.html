<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Polymer In Production</title>

		<meta name="description" content="Slide deck for Web Components Meetup Talk">
		<meta name="author" content="Matt and Robin">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="/css/reveal.css">
		<link rel="stylesheet" href="/css/theme/nap.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="/lib/css/zenburn.css">
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

            	<!-- MATT START -->

                <!-- Title -->
				<section>
					<h1>polymer in production</h1>
				</section>

                <!-- Who are we? -->
                <section class="profile" data-background="#e80042">
                    <div class="mugshot">
                        <img src="/images/furniture/matt.jpeg">
                        <h3>Matt Green</h3>
                        <a class="handle" href="https://twitter.com/mjgreen145">@mjgreen145</a>
                    </div>
                    <div class="mugshot">
                        <img src="/images/furniture/robin.jpeg">
                        <h3>Robin Glen</h3>
                        <a class="handle" href="https://twitter.com/arielwithlegs">@arielwithlegs</a>
                    </div>
                    <div class="mugshot">
                        <img src="/images/furniture/dbod.png">
                        <h3>David Boddy</h3>
                        <a class="handle" href="https://twitter.com/threetwotwo">@threetwotwo</a>
                    </div>
                </section>

                <!-- Who is NAP -->
                <section>
                    <div>
                        <img src="/images/furniture/net-a-porter.svg" width="70%">
                    </div>
                    <aside class="notes">
                        <ul>
                            <li>So we're going to start by covering a couple points which acted as the precursor for us as a team and our use of polymer to deliver projects.</li>
                            <li>Hopefully this way you’ll get a sense of the environment we built as well as the technical approach.</li>
                        </ul>
                    </aside>
                </section>

                <!-- MATT END -->

                <!-- DAVID START -->

                <!-- Collaboration -->
                <section>
                    <h1>collaboration</h1>
                    <aside class="notes">
                        <ul>
                            <li>A couple of years ago Net-A-Porter made its move to form cross-compentency teams.</li>
                            <li>Creating small, focused product teams</li>
                            <li>Teams made of a product owner / engineers / testers and experience designers.</li>
                        </ul>
                    </aside>
                </section>


                <!-- Empathy -->
                <section>
                    <h1>empathy</h1>
                    <aside class="notes">
                        <ul>
                            <li>This has built empathy within our teams</li>
                            <li>Establishing and growing a culture of listening and learning</li>
                            <li>Maturing this has made us able to pivot and accelerate through change by making smarter decisions</li>
                        </ul>
                    </aside>
                </section>

                <!-- Challenge -->
                <section>
                    <h1>challenging</h1>
                    <aside class="notes">
                        <ul>
                            <li>Collaboration and conversation is a natural catalyst to challenging perceptions</li>
                            <li>For us as a team we started to challenge the way we approached design showcases of work to our stakeholders</li>
                            <li>Previously this process was to showcase full formed pages designs at the end of two week sprints, which tended resulted in</li>
                            <li>+ constant rework</li>
                            <li>+ subjective commentary</li>
                            <li>and ultimately began to derail our teams ability to deliver projects.</li>
                        </ul>
                    </aside>
                </section>

                <!-- Two Talks -->
                <section>
                    <h1>two talks</h1>
                </section>

                <!-- Influencers -->
                <section class="profile" data-background="#e80042">
                    <div class="mugshot">
                        <img src="/images/insight/jeremy.png">
                        <h3>Jermery Keith</h3>
                        <a class="handle" href="https://twitter.com/adactio">@adactio</a>
                    </div>
                    <div class="mugshot">
                        <img src="/images/insight/samantha.jpeg">
                        <h3>Samantha Warren</h3>
                        <a class="handle" href="https://twitter.com/samanthatoy">@samanthatoy</a>
                    </div>
                    <aside class="notes">
                        <ul>
                            <li>Two talks, one by Jeremy Keith from ‘Clearleft' and one by Samantha Warren (when she was at Twitter)</li>
                            <li>accelerated our teams thinking about how to find a solution to this problem</li>
                        </ul>
                    </aside>
                </section>

                <!-- Stylesheet -->
                <section data-background="#e80042">
                    <div>
                        <img src="/images/insight/stylesheet-01.jpg" class="shadow">
                    </div>
                    <aside class="notes">
                        <ul>
                            <li>we decided to start talking and showcasing elements in granularity and much earlier</li>
                            <li>a visual stylesheet for our stakeholders</li>
                        </ul>
                    </aside>
                </section>

                <!-- Atomic Design -->
                <section data-background="#e80042">
                    <div>
                        <img src="/images/insight/atomic-ui-01.jpg" >
                    </div>
                    <aside class="notes">
                        <ul>
                            <li>That in parallel with this phraseology coined by Brad Frost, removed the subjectivity from these stakeholder showcases.</li>
                            <li>we were using the correct lexicon around structuring work</li>
                            <li>but this hadn’t manifested into working reality yet.</li>
                            <li>But don’t worry… there is a reason we’re all here… Matt</li>
                        </ul>
                    </aside>
                </section>

                <!-- Learn -->
                <!-- <section>
                    <h1>learn</h1>
                    <aside class="notes">
                        <ul>
                            <li>As with any change there are also pitfalls and one of those was to try to implement a working component library on an ageing web app.</li>
                            <li>Primarily because there was huge maintain overheads, poor communication and high time investment to implement styles across the whole app.</li>
                        </ul>
                    </aside>
                </section> -->

                <!-- Review -->
                <!-- <section>
                    <h1>review</h1>
                    <aside class="notes">
                        <ul>
                            <li>But with every time we fail it give us a time to be retrospective. And this was no different - the result was we open conversations about connecting strategies design and development.</li>
                            <li>This is really a critical understanding - design and technology strategy can’t succeed without the other.</li>
                            <li>We had to identity an opportunity to collaborate and deliver working components libraries at the same time.</li>
                        </ul>
                    </aside>
                </section> -->

                <!-- Identify the opportunity -->
                <!-- <section>
                    <h1>2. opportunity</h1>
                    <aside class="notes">
                        <ul>
                            <li>Our opportunity to deliver came when a piece of internal research highlighted a potential missed opportunity. Driven by the conscious realisation that our key competitors were beginning to deliver faster, scalable sites</li>
                        </ul>
                    </aside>
                </section> -->

                <!-- Fixed Width site -->
                <!-- <section data-background="#e80042">
                    <div>
                        <img src="/images/opportunity/condensed-container-01.jpg" >
                    </div>
                    <aside class="notes">
                        <ul>
                            <li>We had a fixed container width at 950px and a separate mobile UI and rarely releasing features across both.</li>
                        </ul>
                    </aside>
                </section> -->

                <!-- Browser Width -->
                <!-- <section data-background="#e80042">
                    <div>
                        <img src="/images/opportunity/condensed-container-02.jpg" >
                    </div>
                    <aside class="notes">
                        <ul>
                            <li>Through data we saw that our consistently most profitable browser width was 1300-1400. This Paralleled with the trending change in traffic entry points from our visitors, and big growth in the APAC region from mobile devices.</li>
                        </ul>
                    </aside>
                </section> -->

                <!-- The Question -->
                <!-- <section>
                    <h1>question</h1>
                    <aside class="notes">
                        <ul>
                            <li>So the questions asked of us was “how can we create a proposition that recaptures the market, without alienating our core customer base during the process?"</li>
                            <li>We won’t go through all of the steps between this question being asked of us and the beginning of the development. But a couple of crucial decisions were made in the interim</li>
                            <li>This had to be an iterative release</li>
                            <li>We needed to split away from our current web app</li>
                            <li>we needed to showcase early to our stakeholders</li>
                            <li>we needed to showcase early to our stakeholders</li>
                            <li>We started our responsive journey with our global header and footer - deciding to create a responsive site framework first before focusing on our content pages.</li>
                        </ul>
                    </aside>
                </section> -->

                <!-- DAVID END -->

                <!-- MATT START -->

                <!-- Pivot -->
                <section>
                    <h1>the turning point</h1>
                    <aside class="notes">
	                    <ul>
	                    	<li>Attended Google I/O - heard about Polymer 1.0</li>
	                	</ul>
                    </aside>
                </section>

                <!-- Pivot -->
                <section data-background="#e80042">
                    <div>
                        <img src="/images/pivot/polymer1.0.png" style="width:270px">
                    </div>
                    <aside class="notes">
	                    <ul>
	                    	<li>Attended Google I/O - heard about Polymer 1.0</li>
	                    	<li>Tried a basic component - easy to get started</li>
	                    	<li>But was this going to work in production? </li>
	                	</ul>
                    </aside>
                </section>

                <!-- Browser Support -->
                <section data-background="#e80042">
                    <img src="/images/pivot/browser-support.png" class="shadow" />
                    <aside class="notes">
	                    <ul>
	                    	<li>Browser support currently poor</li>
	                    	<li>Image = aggrgation of all 4 standards needed for Web Components</li>
	                    	<li>Chrome fine, Firefox and Edge getting there. IE never, Safari??</li>
	                	</ul>
                    </aside>
                </section>

                <!-- Risk vs Reward -->
                <section>
                    <h1>risk vs reward</h1>
                    <aside class="notes">
                    	<ul>
	                    	<li>W3 Standard - soon no Polyfill needed</li>
	                    	<li>Not a framework - can pick and choose when you want to use it.</li>
	                    	<li>Feels like Web dev, no framework in the way</li>
	                    	<li>Speed to development high.</li>
	                	</ul>
                    </aside>
                </section>

                <section data-background="#e80042">
                    <img src="/images/furniture/time-to-deliver-01.jpg" />
                    <aside class="notes">
                        <ul>
                            <li>Normal project - devlivery speeds up slightly as you become familiar</li>
                        </ul>
                    </aside>
                </section>

                <section data-background="#e80042">
                    <img src="/images/furniture/time-to-deliver-02.jpg" />
                    <aside class="notes">
                        <ul>
                            <li>With components - more up-front investment, longer-term gain</li>
                        </ul>
                    </aside>
                </section>

                <!-- MATT END -->

                <!-- ROBIN START -->

                <!-- Our Components -->
                <section>
                    <h1>components</h1>
                </section>

				<!-- NAP Product Price -->
				<section data-background="#ffffff">
					<div style="width: 50%; float: left;">
					<iframe height="50" width="100%" src="/demo/nap-product/nap-product-price.html" scrolling="no"></iframe>
					<pre style="margin: 0; width: 100%;"><code class="html" data-trim>
&lt;nap-product-price price='{
    "currency":"GBP",
    "divisor":100,
    "gross":15500
}'&gt;
&lt;/nap-product-price&gt;
					</code></pre></div>
					<div style="width: 50%; float: right;">
					<iframe height="50" width="100%" src="/demo/nap-product/nap-product-price-sale.html" scrolling="no"></iframe>
					<pre style="margin: 0; width: 100%;"><code class="html" data-trim>
&lt;nap-product-price price='{
    "discountPercent": 30,
    "divisor": 100,
    "duty": 0,
    "tax": 2625,
    "gross": 15750,
    "net": 13125,
    "currency": "GBP",
    "original": {
        "net": 18750,
        "gross": 22500,
        "tax": 3750,
        "duty": 0
    }'&gt;
&lt;/nap-product-price&gt;
					</code></pre></div>
					<aside class="notes">
						<ul>
							<li>Pass object as string into attribute, this can be done via
								<ul>
									<li>Written into mark up</li>
									<li>Passed to JS as object</li>
								</ul>
							</li>
							<li>Smallest reuseable component</li>
							<li>Why?
								<ul>
									<li>Completely self contained</li>
									<li>Boring and saves dev time</li>
								</ul>
							</li>
						</ul>
					</aside>
				</section>          


                <!-- NAP Product -->
                <section data-background="#ffffff">
                    <div style="width: 50%; float: left;">
                    <iframe height="550" src="/demo/nap-product/nap-product.html" scrolling="no"></iframe>
                    </div>
                    <div style="width: 50%; float: right;">
                    <pre style="margin: 0; width: 100%;"><code class="html" data-trim>
&lt;nap-product product='{
    "name": "Oversized leather bomber jacket",
    "price": {
        "discountPercent": 60,
        "divisor": 100,
        "gross": 143200,
        "currency": "GBP",
        "original": {
            "gross": 358000
        }
    },
    "onSale": false,
    "brand": {
        "id": 128,
        "name": "Marni",
        "urlKey": "Marni"
    },
    "id": 540978
}'&gt;&lt;/nap-product&gt;
                    </code></pre></div>
                    <aside class="notes">
						<ul>
							<li>Includes nap-price component</li>
							<li>Has interactions included, show rollover</li>
							<li>Includes meta data about image</a>
							<li>Show mark up
								<ul>
									<li>All that is in shadow dom, or in this case, shadydom as polyfiled</li>
								</ul>
							</li>
						</ul>
					</aside>
                </section>

                <!-- NAP Product Price -->
                <section data-background="#eeeeee">
                    <img height="600" src="/images/components-demo/product-price-01.jpg">
                </section>

                <!-- NAP Product Price -->
                <section data-background="#eeeeee">
                    <img height="600" src="/images/components-demo/product-price-02.jpg">
                    <aside class="notes">
                        <ul>
                            <li>All that is in shadow dom, or in this case, shadydom as polyfiled</li>
                            <li>Conditions inside templates</li>
                            <li>Schema tags built into component, more later</li>
                        </ul>
                    </aside>
                </section>

                <!-- These are more complex using libs -->

				<!-- Upsell module -->
				<section data-background="#ffffff">
					<iframe height="350" width="100%" src="/demo/upsell-modules/nap-product-upsell.html" scrolling="no"></iframe>
					<pre style="margin: 0; width: 100%;"><code class="html" data-trim>
&lt;nap-product-upsell pids='[508770, 543952, 540978, 538739, 538736, 538734]'&gt;
&lt;/nap-product-upsell&gt;
					</code></pre>
                    <aside class="notes">
                        <ul>
                            <li>Complex collection</li>
                            <li>Just pids no product data, how do we get that?</li>
                            <li>Polymer elements - matt will talk about</li>
                        </ul>
                    </aside>
				</section>

				<!-- ROBIN END -->

                <!-- MATT START -->

                <!-- HTWI module -->
                <section data-background="#ffffff">
                    <iframe height="1000" width="100%" src="/demo/upsell-modules/nap-htwi-module.html" style="margin-top: -70px;" scrolling="no"></iframe>
                    <aside class="notes">
                    	<ul>
                    		<li>Build up richer modules from smaller components</li>
                		</ul>
                    </aside>
                </section>

                <!-- HTWI module code -->
                <section data-background="#ffffff">
                    <pre style="margin: 0; width: 100%;"><code class="html" data-trim>
&lt;nap-htwi-module pid="597093" heading="How to wear it"&gt;&lt;/nap-htwi-module&gt;
                    </code></pre>
                    <img src="/images/components-demo/htwi_network.png" style="border: none; margin-top: 50px;"/>
                    <aside class="notes">
                    	<ul>
                    		<li>Uses iron-ajax to make API calls for data</li>
                    		<li>Automatically bind the data to the markup in the template</li>
                    		<li>Element knows how to deal with failed AJAX calls</li>
                		</ul>
                    </aside>
                </section>

                <!-- NAP Live -->
				<section data-background="#ffffff">
					<iframe height="350" width="100%" src="/demo/nap-live/nap-live.html" scrolling="no"></iframe>
					<pre style="margin: 0; width: 100%;"><code class="html" data-trim>
&lt;nap-live&gt;&lt;/nap-live&gt;
					</code></pre>
                    <aside class="notes">
                        <ul>
                            <li>Real activity</li>
                        </ul>
                    </aside>
				</section>

                <!-- NAP Forms -->
				<section data-background="#ffffff">
					<iframe height="400" width="100%" src="/demo/nap-forms/nap-forms.html" scrolling="no"></iframe>
					<pre style="margin: 0; width: 100%;"><code class="html" data-trim>
&lt;input-email id="primaryEmail" label="Email address*" error="Not Valid Email Address" required&gt;&lt;/input-email&gt;
&lt;input-email label="Confirm email address*" error="Email Address Does Not Match" linked="primaryEmail" required&gt;&lt;/input-email&gt;
&lt;input-text name="firstname" label="First Name*" type="text" error="Not Valid" required&gt;&lt;/input-text&gt;
&lt;input-text name="surname" label="Surname" type="text" error="Not Valid"&gt;&lt;/input-text&gt;
&lt;input-text name="password" label="Password*" type="password" error="Not Valid" required&gt;&lt;/input-text&gt;
&lt;input-telephone name="telephone" label="Telephone Number*" error="Not Valid" required&gt;&lt;/input-telephone&gt;
&lt;select-country name="country" label="Country*" required&gt;&lt;/select-country&gt;
					</code></pre>
					<aside class="notes">
						<ul>
							<li> Form library - uses form behaviour
						</ul>
					</aside>
				</section>

				<section data-background="#ffffff">
					<iframe height="350" width="100%" src="/demo/nap-widgets/nap-wishlist-button.html" scrolling="no"></iframe>
					<pre style="margin: 0; width: 100%;"><code class="html" data-trim>
&lt;nap-wishlist-button wishlists='[...]'&gt;&lt;/nap-wishlist-button&gt;
					</code></pre>
					<aside class="notes">
						<ul>
							<li>For a new wishlist, use "New List"</li>
							<li>Button provides full wrapper around Wishlist API</li>
							<li>Also provides a nice feedback loop</li>
						</ul>
					</aside>
				</section>

                <!-- Testing -->
                <section>
                    <h1>testing</h1>
                    <aside class="notes">
						<ul>
							<li>Must write tests!</li>
							<li>All elements essentially provide an API to interact with</li>
							<li>Must ensure the API always works.</li>
						</ul>
					</aside>
                </section>

                <section>
                    <h1>web component tester</h1>
                    <aside class="notes">
						<ul>
							<li>Tool created by the Polymer team</li>
							<li>All common testing tools built in (Mocha, Sinon, Chai)</li>
							<li>Write your tests in HTML, put tests in a script tag.</li>
						</ul>
					</aside>
                </section>

                <section>
                    <h1>&lt;test-fixture&gt;</h1>
                    <aside class="notes">
                        <ul>
                            <li>test-fixture created to make testing even easier</li>
                            <li>Deals the the issue of state between tests</li>
                            <li>Provides easy setup and teardown</li>
                        </ul>
                    </aside>
                </section>

                <section data-background="#eeeeee">
                    <pre style="margin: 0; width: 100%;"><code class="html" data-trim>
&lt;test-fixture id="buttonTest"&gt;
  &lt;template&gt;
    &lt;nap-wishlist-button&gt;&lt;/nap-wishlist-button&gt;
  &lt;/template&gt;
&lt;/test-fixture&gt;
					</code></pre>
                    <aside class="notes">
						<ul>
							<li>Use test fixture element and put your markup in a template</li>
						</ul>
					</aside>
                </section>

                <section data-background="#eeeeee">
                    <pre style="margin: 0; width: 100%;"><code class="js" data-trim>
describe('&lt;nap-wishlist-button&gt;', function () {
  var button;

  beforeEach(function () {
    button = fixture('buttonTest');
  });
});
                    </code></pre>
                    <aside class="notes">
                        <ul>
                            <li>Use the fixture function to grab your markup and put it in the DOM</li>
                            <li>It will be automatically cleaned up in the AfterEach phase</li>
                        </ul>
                    </aside>
                </section>

                <section data-background="#e80042">
                    <img src="/images/testing/saucelabs-logo.png" style="width:500px" />
                    <aside class="notes">
                        <ul>
                            <li>We use SauceLabs to carry out automatec cross-browser testing</li>
                            <li>SauceLabs have over 650 OS/browser/device combinations</li>
                            <li>Plugin available for WCT to easily configure.</li>
                            <li>Hook up to a CI job, and you have yourself a pipeline!</li>
                        </ul>
                    </aside>
                </section>

                <!-- MATT END -->

                <!-- ROBIN START -->

                <!-- Build -->
                <section>
                    <h1>production-ify</h1>
                </section>

                <section class="statement">
                    <p>Inline and package your components</p>
                    <a href="https://github.com/polymer/vulcanize">vulcanize</a>
                    <aside class="notes">
                        <ul>
                        <li>From google</li>
                        <li>Made redundant by HTTP2</li>
                        </ul>
                    </aside>
                </section>
               
                <section>
                <!--<p>how can I use it</p>-->
                    <p>tools to use</p>
                    <ul>
                        <li><a href="https://commons.apache.org/proper/commons-cli/javadocs/api-release/index.html">CLI</a></li>
                        <li><a href="#">JS</a></li>
                        <li><a href="http://blog.cozycloud.cc/technic/2014/06/18/task-runners-comparison/">Task Runners</a></li>
                    </ul>
                </section>

                <section>
                    <p>task runners</p>
                    <ul>
                        <li><a href="https://www.npmjs.com/package/grunt-vulcanize">Grunt</a></li>
                        <li><a href="https://www.npmjs.com/package/gulp-vulcanize">Gulp</a></li>
                        <li><a href="https://www.npmjs.com/package/broccoli-vulcanize">Broccoli</a></li>
                    </ul>
                </section> 

                <section>
                    <!-- <h3>Bundles</h3> -->
                     <img height="300" src="/images/production-ify/global.png">
                    <p>components wrapped together</p>
                    <aside class="notes">
                        <ul>
                            <li>Global loaded on all pages</li>
                        </ul>
                    </aside>                    
                </section>

                <section>
                    <!-- <h3>pages</h3> -->
                    <img height="180" src="/images/production-ify/product-page.png">
                    <p>components and bundles for a specfic page</p>
                    <aside class="notes">
                        <ul>
                            <li>Page loaded on specific pages</li>
                        </ul>
                    </aside>                    
                </section> 

                <section data-background="#e80042">
                    <img height="200" src="/images/furniture/bower-logo.png">
                    <aside class="notes">
                        <ul>
                            <li>Polymer team use Bower so we did the same</li>
                            <li>Hashmap dist files and cache forever</li>
                        </ul>
                    </aside>                                       
                </section> 

                <section>
                <p>other production tools</p>
                    <!-- <h3>other production tools</h3> -->
                    <ul>
                    <li><a href="https://github.com/Polymer/hydrolysis">hydrolysis</a></li>
                    <li><a href="https://github.com/PolymerLabs/crisper">crisper</a></li>
                    <li><a href="https://github.com/PolymerLabs/polyserve">polyserve</a></li>
                    <li><a href="https://github.com/PolymerLabs/polylint">polylint</a></li>
                    </ul>
                    <aside class="notes">
                        <ul>
                            <li>hydrolysis - Static analysis utilities, get api, build docs</li>
                            <li>crisper - CSP compliance, security</li>
                            <li>polyserve - serve and demo your components</li>
                            <li>polylint - serve and demo your components</li>
                        </ul>
                    </aside>                                       
                </section> 

                <!-- Structured Data -->
                <section>
                    <h1>structured data</h1>                                          
                </section>

                <section data-background="#e80042">
                    <img src="http://cdn.jsdelivr.net/emojione/assets/png/1F60E.png?v=1.2.4">
                    <img src="http://cdn.jsdelivr.net/emojione/assets/png/1F615.png?v=1.2.4">
                    <img src="http://cdn.jsdelivr.net/emojione/assets/png/1F62A.png?v=1.2.4">
                    <img src="http://cdn.jsdelivr.net/emojione/assets/png/1F60C.png?v=1.2.4">
                    <img src="http://cdn.jsdelivr.net/emojione/assets/png/1F600.png?v=1.2.4">
                    <aside class="notes">
                        <ul>
                            <li>Difficult journey</li>
                            <li>Firewall around search team (how it works)</li>
                            <li>Tooling not ready</li>
                        </ul>
                    </aside>                    
                </section>

                <section data-background="#e80042">
                    <img src="http://cdn.jsdelivr.net/emojione/assets/png/1F60E.png?v=1.2.4">
                    <aside class="notes">
                        <ul>
                            <li>polymer perfect for components, do once, everyone gets it</li>
                            <li>Hopefully Taylor won't mind this</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <video controls>
                      <source src="/videos/structured-data/polymer-summit.mp4" type="video/mp4">
                    </video>
                    <aside class="notes">
                        <ul>
                            <li>Polymer summit</li>
                        </ul>
                    </aside>
                </section>


                <section data-background="#eeeeee">
                    <img height="600" src="/images/components-demo/product-shadow-dom.png">
                    <aside class="notes">
                        <ul>
                            <li>All that is in shadow dom, or in this case, shadydom as polyfiled</li>
                            <li>Added schema tags</li>
                            <li>When released we saw errors in webmaster tools</li>
                        </ul>
                    </aside>                      
                </section>

                <section data-background="#e80042">
                   <img src="http://cdn.jsdelivr.net/emojione/assets/png/1F615.png?v=1.2.4">
                </section>

                <section data-background="#e80042">
                    <img height="439" src="/images/structured-data/structured-data-url-592505.png" class="shadow">
                    <aside class="notes">
                        <ul>
                            <li>Run the tests from web master tools on url</li>
                            <li>Error</li>
                        </ul>
                    </aside>                      
                </section>

                <section data-background="#e80042">
                    <img height="439" src="/images/structured-data/structured-data-body-592505.png" class="shadow">
                    <aside class="notes">
                        <ul>
                            <li>Copy body from dev tools</li>
                            <li>all good</li>
                        </ul>
                    </aside>                      
                </section>

                <section>
                    <h1>why?</h1>
                </section>

                <section data-background="#e80042">
                    <img src="http://cdn.jsdelivr.net/emojione/assets/png/1F62A.png?v=1.2.4">
                    <aside class="notes">
                        <ul>
                            <li>Structered data tool understands rendered components (body)</li>
                            <li>Structured data tool doesn't render polymer components (url)</li>
                            <li>Google search needs to index pages, can take days</li>
                            <li>Polyfill was not rendering components in time for google bot</li>
                        </ul>
                    </aside>                                                                 
                </section>

                <section>
                    <h1>call in the big guns</h1>
                </section>

                <section data-background="#e80042">
                    <img src="http://cdn.jsdelivr.net/emojione/assets/png/1F60C.png?v=1.2.4">
                    <br>
                    <img height="150" src="/images/structured-data/email.png" class="shadow">
                    <aside class="notes">
                        <ul>
                            <li>Polymer team were amazing</li>
                            <li>updates to webcomponentsjs</li>
                            <li>Thanks to taylor savage for all his help</li>
                        </ul>
                    </aside>                                                                 
                </section>

                <section data-background="#e80042">
                    <img src="http://cdn.jsdelivr.net/emojione/assets/png/1F600.png?v=1.2.4">
                </section>

                <section data-background="#e80042">
                    <img height="240" src="/images/structured-data/graph.png" class="shadow">
                    <aside class="notes">
                        <ul>
                            <li>Errors started to drop</li>
                            <li>Pages with structured data increased</li>
                        </ul>
                    </aside>                                                                 
                </section>

                <section data-background="#e80042">
                    <img src="http://cdn.jsdelivr.net/emojione/assets/png/1F4A1.png?v=1.2.4">                                                               
                </section>

                <section data-background="#e80042">
                    <img height="450" src="/images/structured-data/xhr-structured-data-body-592505.png" class="shadow">
                    <aside class="notes">
                        <ul>
                            <li>Looks like clientside</li>
                            <li>network tab - yup xhr</li>
                            <li>Full data object including errors array!</li>
                            <li>can post from a different domain?</li>
                        </ul>
                    </aside>                                                                           
                </section>

                <section data-background="#e80042">
                    <img height="350" src="/images/structured-data/postman-check.png" class="shadow">
                    <aside class="notes">
                        <ul>
                            <li>Nice</li>
                            <li>what can we use this for?</li>
                        </ul>
                    </aside>  
                </section>

                <section>
                    <h1>hacking seo testing</h1>
                    <aside class="notes">
                        <ul>
                            <li>Selenium Webdriver and jUnit</li>
                            <li>In CI pipline after build and deploy, seperate from integration</li>
                        </ul>
                    </aside>
                </section>

                <section data-background="#eeeeee">
                    <pre style="margin: 0; width: 100%;"><code class="java" data-trim>
    @Test
    public void markupTest() {
        JsonArray tripleGroups = getJsonElements();
        for (int i = 0; i < tripleGroups.size(); i++) {
            JsonObject errors = tripleGroups.get(i).getAsJsonObject().get("errorsByOwner").getAsJsonObject();
            assertTrue("Tag analysis failed: " + Arrays.toString(errors.entrySet().toArray()),errors.entrySet().isEmpty() );

            JsonObject warnings = tripleGroups.get(i).getAsJsonObject().get("warningsByOwner").getAsJsonObject();
            if (!warnings.entrySet().isEmpty())
                fail("Tag analysis failed: " + Arrays.toString(warnings.entrySet().toArray()));
        }
    }

    private JsonArray getJsonElements() {
        String dom = ((JavascriptExecutor) browser.driver).executeScript("return document.documentElement.outerHTML").toString();

        NameValuePair html = new BasicNameValuePair("html", dom);

        String json = HttpFunctions.httpsPost(URI.create("https://structured-data-testing-tool.developers.google.com/sdtt/web/validate"), newArrayList(html));

        JsonObject jsonObject = new JsonParser().parse(json).getAsJsonObject();
        return jsonObject.getAsJsonArray("tripleGroups");
    }
                    </code></pre>
                    <aside class="notes">
                        <ul>
                            <li>junit test extracts the dom, posts to Structured Data Tool</li>
                            <li>parse response and assert whether there are any errors or warnings</li>
                            <li>Thanks to Adela</li>
                        </ul>
                    </aside>
                </section>

                <!-- ROBIN END -->

                <!-- MATT START -->

                <!-- Monitoring -->
                <section>
                    <h1>does it work?</h1>
                    <aside class="notes">
                        <ul>
                            <li>So, it works locally, it passes the tests, does it work in the wild?</li>
                            <li>More complex than just vanilla web dev</li>
                            <li>What if something fails to load, fails to render?</li>
                        </ul>
                    </aside>
                </section>

                <section data-background="#eeeeee">
                    <pre style="margin: 0; width: 100%;"><code class="hljs" data-trim>
function checkForWebComponentsOnPage() {

  document.addEventListener('WebComponentsReady', function() {
    var HTMLImports = document.querySelectorAll('link[rel="import"]');
    var customElementIds = [];
    [].forEach.call(HTMLImports, function(HTMLImport) {
      if(HTMLImport.import) {
        var domModules = HTMLImport.import.getElementsByTagName('dom-module');
        [].forEach.call(domModules, function(module) {
          customElementIds.push(module.id);
        });
      }
    });

    customElementIds.forEach(function(elementName){
      var elements = document.getElementsByTagName(elementName);
      [].forEach.call(elements, function(element) {
        if(element.constructor === HTMLElement){ /* Do stuff */ }
      });
    });
  });
}
                    </code></pre>
                    <aside class="notes">
                        <ul>
                            <li>Small bit of code to check for broken elements on a page.</li>
                            <li>Get all imports</li>
                            <li>For each one, get all dom-modules and store the id</li>
                            <li>Essentially getting a list of all the defined elements on the page</li>
                            <li>Check the constructor. If it hasnt been upgraded by Polymer, it won't have rendered.</li>
                            <li>We send data to GA for each broken element</li>
                        </ul>
                    </aside>
                </section>

                <section data-background="#e80042">
                    <img src="/images/monitoring/broken-element.png" class="shadow" />
                    <aside class="notes">
                        <ul>
                            <li>This does happen sometimes! But not often enough to panic</li>
                            <li>Still trying to work out the conditions under which this happens, and how to minimise it.</li>
                            <li>Also send data to GA whenever an element makes an Ajax call which fails</li>
                            <li>Result is easy-to-spot problems</li>
                        </ul>
                    </aside>
                </section>

                <!-- Gotchas -->
                <section>
                    <h1>gotchas</h1>
                    <aside class="notes">
                        <ul>
                            <li>Cover a couple of oddities and pitfalls along the way</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <h1>1. docs</h1>
                    <aside class="notes">
                        <ul>
                            <li>Docs in general are very good</li>
                        </ul>
                    </aside>
                </section>

                <section data-background="#e80042">
                    <img src="/images/gotchas/docs.png" class="shadow" />
                    <aside class="notes">
                        <ul>
                            <li>Often, go to a docs page looking to find out how to do something</li>
                            <li>Completely miss "0.5" in the top right corner</li>
                            <li>No compatability between 0.5 and 1.0</li>
                            <li>Even worse on Stack Overflow!</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <h1>2. CORS <br/><span class="fragment subhead">(Cross-Origin Really Sucks)</span></h1>
                    <aside class="notes">
                        <ul>
                            <li>All our assets are requested through a sub-domain, including HTML imports</li>
                            <li>We started seeing lots of CORS errors in the console</li>
                            <li>Lots of testing, inc. blaming our CDN provider</li>
                            <li>Days of investigation => Safari!!</li>
                            <li>No same-origin policy for HTML (or fonts), so no Origin header, cached without CORS headers</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <h1>3. IE & "parser-challenged elements"</h1>
                    <aside class="notes">
                        <ul>
                            <li>There are certain elements which IE removes any dissallowed children nodes</li>
                            <li>The two main ones are select and table:</li>
                        </ul>
                    </aside>
                </section>

                <section data-background="#eeeeee">
                    <pre style="margin: 0; width: 100%;"><code class="html" data-trim>
&lt;select&gt;
  &lt;template is="dom-repeat" items="{{options}}"&gt;
    &lt;option value="{{item.value}}"&gt;{{item.name}}&lt;/option&gt;
  &lt;/template&gt;
&lt;/select&gt;
                    </code></pre>
                    <aside class="notes">
                        <ul>
                            <li>IE refuses to accept anything insie a select that isnt an option.</li>
                        </ul>
                    </aside>
                </section>

                <section data-background="#eeeeee">
                    <pre style="margin: 0; width: 100%;"><code class="html" data-trim>
&lt;template is="dom-repeat" items="{{options}}"&gt;
  &lt;option value="{{item.value}}"&gt;{{item.name}}&lt;/option&gt;
&lt;/template&gt;
&lt;select&gt;&lt;/select&gt;
                    </code></pre>
                    <aside class="notes">
                        <ul>
                            <li>The result is that when you load the page the template gets moved to a sibling node</li>
                        </ul>
                    </aside>
                </section>

                <section data-background="#eeeeee">
                    <pre style="margin: 0; width: 100%;"><code class="html" data-trim>
&lt;select&gt;
  &lt;option template repeat="{{item in options}}" value="{{item.value}}"&gt;&lt;/option&gt;
&lt;/select&gt;
                    </code></pre>
                    <aside class="notes">
                        <ul>
                            <li>There is some nice syntactic sugar for this</li>
                            <li>I tried this and had no success</li>
                            <li>Alternative is to loop over data set and append elements with JS</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <h1>4. Async testing</h1>
                </section>


                <!-- MATT END -->

                <!-- ROBIN START -->

                <!-- What's next -->
                <section>
                    <h1>coming soon...</h1>
                    <aside class="notes">
                        <ul>
                            <li>Things we want to do</li>
                            <li>Things we haven't done</li>
                        </ul>
                    </aside> 
                </section>
                <!-- What's next -->
                <section>
                    <p>conditionally polyfill</p>
                    <aside class="notes">
                        <ul>
                            <li>Don't need to polyfill chrome</li>
                            <li>polyfill needs to keep upwith browser technology, who is native</li>
                            <li>Can use shadow dom over shadey</li>
                        </ul>
                    </aside> 
                </section>

                <!-- What's next -->
                <section>
                    <p>performance monitoring</p>
                    <aside class="notes">
                        <ul>
                            <li>Matt talked about does it work</li>
                            <li>We want to know how well it is working
                            <ul>
                                <li>Time to render - RUM</li>
                                <li>Asset download - RUM</li>
                                <li>Memory useage in CI</li>
                            </ul>
                            </li>
                        </ul>
                    </aside> 
                </section>

                <!-- What's next -->
                <section>
                    <p>optimize build</p>
                    <aside class="notes">
                        <ul>
                            <li>Use polyserve - keep standards</li>
                            <li>Rewrite elements using seed elements
                                <ul>
                                    <li>again more consistancy</li>
                                    <li>Free documentation and demo</li>
                                    <li>move each element into own repo - better version control</li>
                                    <li>make new bundle / page approach based on repos</li>
                                </ul>
                            </li>
                        </ul>
                    </aside> 
                </section>

                <section>
                    <p>skeleton CSS / unresolved styles</p>
                    <aside class="notes">
                        <ul>
                            <li>typically used for dynamic content
                                <ul>
                                    <li>big win for perceived performance</li>
                                    <li>used by etsy, google, guardian etc...</li>
                                </ul>
                            </li>
                            <li>styles before webcomponent is ready</li>
                            <li>We do this to stop the following</li>
                        </ul>
                    </aside>           
                </section>


                <!-- What's next -->
                <section data-background="#e80042">
                    <video controls style="width:42%" class="shadow">
                      <source src="/videos/polyfill-performance/uncache-polymer-safari.mp4" type="video/mp4">
                    </video>
                    <aside class="notes">
                        <ul>
                            <li>Safari - cached assets</li>
                            <li>jumps are also polyfill polyfilling</li>
                            <li>Throttled api calls - bottom upsells slowed</li>
                        </ul>
                    </aside>                       
                </section>

                <!-- What's next -->
                <section data-background="#e80042">
                    <video controls style="width:42%" class="shadow">
                      <source src="/videos/polyfill-performance/cache-polymer-safari.mp4" type="video/mp4">
                    </video>
                    <aside class="notes">
                        <ul>
                            <li>blurgh gross!!</li>
                            <li>worst case scenario, throttled everything</li>
                            <li>Safari - uncached assets</li>
                            <li>jumps are also polyfill polyfilling</li>
                            <li>Throttled api calls - bottom upsells slowed</li>
                        </ul>
                    </aside>                       
                </section>

                <!-- What's next -->
                <section>
                    <p>Blurgh... gross, what can you do about that?</p>
                </section>

                <section>
                    <ul>
                        <li>1. Conditionally load polyfill before web components in DOM</li></br></br>
                        <li class="fragment">2. Shadow DOM is coming to Safari and IE (soon...ish)</li></br></br>
                        <li class="fragment">3. Unresolved styles for before web components ready</li>
                    </ul>
                </section>

                <section data-background="#eeeeee">
                    <pre style="margin: 0 auto; width: 50%;"><code class="html" data-trim>
&lt;my-element unresolved&gt;&lt;/my-element&gt;
                    </code></pre>
                    <pre style="margin: 0 auto; width: 50%;"><code class="css" data-trim>
&lt;style&gt;
  my-element:unresolved {
    display: none;
  }
&lt;/style&gt;
                    </code></pre>
                    <pre style="margin: 0 auto; width: 50%;"><code class="hljs" data-trim>
this.removeAttribute('unresolved');
                    </code></pre>
                    <aside class="notes">
                        <ul>
                            <li>There is some nice syntactic sugar for this</li>
                            <li>We have not implemented this yet</li>
                            <li>Alternative is to loop over data set and append elements with JS</li>
                        </ul>
                    </aside>
                </section>

                <!-- What's next -->
                <section>
                    <p>Expanding outside of the product page</p>
                    <aside class="notes">
                        <ul>
                            <li>NAP live homepage</li>
                            <li>Basket upsell</li>
                            <li>Listing page</li>
                        </ul>
                    </aside>   
                </section>

                <!-- Resources -->
                <section>
                    <h1>resources</h1>
                </section>

                <section>
                    <p>Chrome dev summit</p>
                    <ul>
                    <li><a href="https://www.youtube.com/watch?v=lck68wyVUo4">Polymer - State of the Union</a></li>
                    <li><a href="https://www.youtube.com/watch?v=g7f1Az5fxgU">Building Progressive Web Apps with Polymer</a></li>
                    <ul>
                </section>

                <section>
                    <p>Useful links</p>
                    <ul>
                    <li><a href="https://www.polymer-project.org/1.0/docs/devguide/feature-overview.html">Polymer docs</a></li>
                    <li><a href="https://elements.polymer-project.org/">Elements catalog</a></li>
                    <li><a href="https://polymer.slack.com/">Slack</a></li>
                    </br>
					<li><a href="https://www.youtube.com/watch?v=m1hFhDYDY6o&olst=PLOU2XLYxmsII5c3Mgw6fNYCzaWrsM3sMN">Polycasts YouTube</a></li>
					<li><a href="http://webcomponents.org/">webcomponents.org</a></li>
                    <ul>
                </section>
wfuhat the fuck?      <section>
                    <p>Twitter</p>
                    <ul>
                    <li><a href="https://twitter.com/polymer">@polymer</a></li>
                    <li><a href="https://twitter.com/ebidel">@ebidel</a></li>
                    <li><a href="https://twitter.com/rob_dodson">@rob_dodson</a></li>
                    <li><a href="https://twitter.com/TaylorTheSavage">@TaylorTheSavage</a></li>
                    </ul>
                </section> 

                <!-- ROBIN END -->

                <!-- BRING DAVID BACK... -->

                <!-- Shall we show it? -->
                <section>
                    <h1>let's see it</h1>
                </section>

                <section>
                    <h1>questions...</h1>
                </section>

                <section class="profile" data-background="#e80042">
                    <div class="mugshot">
                        <img src="/images/furniture/matt.jpeg">
                        <h3>Matt Green</h3>
                        <a class="handle" href="https://twitter.com/mjgreen145">@mjgreen145</a>
                    </div>
                    <div class="mugshot">
                        <img src="/images/furniture/robin.jpeg">
                        <h3>Robin Glen</h3>
                        <a class="handle" href="https://twitter.com/arielwithlegs">@arielwithlegs</a>
                    </div>
                    <div class="mugshot">
                        <img src="/images/furniture/dbod.png">
                        <h3>David Boddy</h3>
                        <a class="handle" href="https://twitter.com/threetwotwo">@threetwotwo</a>
                    </div>
                </section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
